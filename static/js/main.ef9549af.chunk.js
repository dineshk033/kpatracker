(this["webpackJsonpkpa-team"]=this["webpackJsonpkpa-team"]||[]).push([[0],{299:function(e,a,t){e.exports=t(513)},304:function(e,a,t){},513:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),o=(t(304),t(33)),i=t(12),s=t(15),u=t(562),m=t(564),p=t(566),d=t(591),f=t(567),g=t(112),h=t.n(g),b=t(8),v=t(67),E={isAuthenticated:!1,authenticate:function(e){E.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){E.isAuthenticated=!1,setTimeout(e,100)}},y=Object(u.a)((function(e){return{root:{display:"flex",backgroundColor:"#eee"},appBar:{background:"#333333"},toolbar:Object(s.a)({minHeight:0},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},img:{height:"30px",textAlign:"center",marginRight:"5px"},gridcontent:{marginBottom:"15px"},navTab:{padding:"5px",marginLeft:"15px",minWidth:"0"},toolBar:{minHeight:0}}})),j=function(){var e=Object(v.h)(),a=h.a.parse(e.search),t=r.a.useState(Object(b.isEmpty)(a)?0:1),n=Object(i.a)(t,2),c=n[0],l=n[1],s=y();return r.a.createElement("div",null,E.isAuthenticated&&r.a.createElement(m.a,{position:"static",className:s.appBar},r.a.createElement(p.a,{className:s.toolbar},r.a.createElement("img",{className:s.img,src:"/KPA-Logo.svg",alt:"KPA Tracker"}),r.a.createElement(d.a,{value:c,onChange:function(e,a){l(a)}},r.a.createElement(f.a,{label:"Home",component:o.b,to:"/",id:"dashboard",className:s.navTab}),r.a.createElement(f.a,{label:"KPA Board",component:o.b,to:{pathname:"/kpa-profile",search:"?type=kpa&&value=component"},id:"kpa-profile",className:s.navTab})))))},k=t(257),O=t(28),x=t.n(O),w=t(48),C=t(35),S=t(590),N=t(575),I=t(232),_=function(e){var a={component:{main:"#1976d2",dark:"#115293",light:"#5fa6ec"},Tech_session:{dark:"#d32f2f",main:"#f44336",light:"#e57373"},Master_class:{dark:"#ffd600",main:"#ffea00",light:"#fff480"},case_study:{dark:"#388e3c",main:"#4caf50",light:"#81c784"},Tutorial_session:{dark:"#388e3c",main:"#4caf50",light:"#81c784"},Blog:{dark:"#388e3c",main:"#4caf50",light:"#81c784"}};return e.map((function(e){return e.kpa.map((function(a){return Object(s.a)({},a,{id:e.empId,name:e.name,designation:e.designation,target:e.target_kpa})}))})).flat(1/0).map((function(e){return Object(s.a)({},e,{color:a[e.type]})}))},P=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===e.length)return[];var n=e.map((function(e){return e.target_kpa})),r=Object(b.groupBy)(_(e),"type");r=a?Object(C.a)({},a,r[a]):r;var c={};t.forEach((function(e){c[e.name]=e.stage.length.toString()}));var l=[],o=[],s=function(e){var a=Object(b.partition)(r[e],(function(a){return a.stage===c[e]})),t=Object(i.a)(a,2),s=t[0],u=t[1],m=Object(b.sumBy)(n,e);l.push({name:e+"-C",value:s.length}),l.push({name:e+"-P",value:u.length}),l.push({name:e+"-T",value:m-u.length-s.length}),o.push({name:e,value:m})};for(var u in r)s(u);return[o,l]},B=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===e.length||""===a)return[];var n=e.map((function(e){return e.target_kpa})),r=Object(b.sumBy)(n,a),c=new Date;c.setDate(c.getDate()-180);var l=_(e).filter((function(e){return new Date(e.modified_on)>=c&&e.type===a})),o=Object(b.head)(_(e).filter((function(e){return e.type===a}))).color;l=Object(b.groupBy)(l,(function(e){return new Date(e.modified_on).getMonth()}));var i=["January","February","March","April","May","June","July","August","September","October","November","December"],u={},m={};t.forEach((function(e){u[e.name]=e.stage.length.toString(),m[e.name]=0}));for(var p=new Date,d=[],f=6;f>=0;f-=1){var g=void 0,h=void 0;g=new Date(p.getFullYear(),p.getMonth()-f,1),h=i[g.getMonth()],d.push({month:h,completed:0,color:{primaryColor:o.dark,secondaryColor:"#A9A9A9"},target:Math.ceil(r/12)})}var v=[],E=function(e){var a={},t=Object(b.groupBy)(l[e],(function(e){return e.type}));Object.keys(t).forEach((function(e){a.completed=t[e].filter((function(e){return e.stage===u[e.type]})).length})),v.push(Object(s.a)({month:i[e]},a,{target:Math.ceil(r/12,2),color:{primaryColor:o.dark,secondaryColor:"#A9A9A9"}}))};for(var y in l)E(y);return d.map((function(e){var a=Object(b.find)(v,["month",e.month])||!1;return a||e}))},T=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===e.length||""===a)return[];var n={component:{main:"#1976d2",dark:"#115293",light:"#5fa6ec"},Tech_session:{dark:"#d32f2f",main:"#f44336",light:"#e57373"},Master_class:{dark:"#ffd600",main:"#ffea00",light:"#fff480"},case_study:{dark:"#388e3c",main:"#4caf50",light:"#81c784"}},r=_(e).filter((function(e){return e.type===a})),c=Object(b.groupBy)(r,"name"),l=Object(b.find)(t,["name",a]).stage.length.toString()||"",o=[];for(var u in c){var m=Object(b.partition)(c[u],(function(e){return e.stage===l})),p=Object(i.a)(m,2),d=p[0],f=p[1];o.push({name:u,completed:d,pending:f,target:c[u][0].target[c[u][0].type],id:c[u][0].id})}return o=o.map((function(e){return Object(s.a)({},e,{completed:e.completed.length,pending:e.target-e.completed.length})})),[Object(b.orderBy)(o,["completed"],["desc"]).filter((function(e,a){return a<4})),{color:{primaryColor:n[a].dark,secondaryColor:n[a].light}}]},D=function(e){var a=Object(b.groupBy)(e,"stage"),t={};for(var n in a)t[n]={id:n,title:n,taskIds:a[n]};return t},L=t(229),A=t(230),R=t(256),q=t(231),F=t(258),M=t(84),K=t(5),z=t(580),W=t(569),H=t(576),J=t(517),G=t(577),U=t(130),V=t(234),Y=t.n(V),$=t(26),Q=t.n($),X=t(594);function Z(){return{margin:0,top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ee=Object(u.a)((function(e){return{paper:{position:"absolute",minWidth:700,maxWidth:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ae(e){var a=ee(),t=r.a.useState(Z),n=Object(i.a)(t,1)[0],c=r.a.createElement("div",{style:n,className:a.paper},e.children);return r.a.createElement(X.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},c)}var te=t(598),ne=t(570),re=t(595),ce=t(516),le=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",padding:e.spacing(3),"& .MuiTextField-root":{margin:e.spacing(2),width:"25ch"},"& .MuiButton-root":{margin:e.spacing(3),width:"15ch"}},textArea:{margin:e.spacing(3),width:"85%",padding:e.spacing(1)},divider:{marginTop:e.spacing(2)}}})),oe=function(e){var a=le(),t=Object(n.useState)({title:{required:!0,value:e.title},name:{required:!0,value:e.name},type:{required:!0,value:e.type},description:{required:!0,value:e.description},stage:{required:!0,value:e.stage}}),c=Object(i.a)(t,2),l=c[0],o=c[1],u=Object(n.useState)([]),m=Object(i.a)(u,2),p=m[0],d=m[1],f=Object(n.useCallback)(Object(w.a)(x.a.mark((function e(){var a,t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/kpaCreation");case 2:a=e.sent,t=a.data.map((function(e){return{label:e.name,value:e.name,stage:e.stage}})),d(t);case 5:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)((function(){f()}),[]);var g=function(e){var a=e.target.name,t=e.target.value;o((function(e,n){var r=e[a];return Object(s.a)({},e,Object(C.a)({},a,Object(s.a)({},r,{value:t})))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,null,r.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(S.a,{flexGrow:1,mb:2,px:5,style:{width:"100%"}},r.a.createElement(U.a,{variant:"h6"},"Kpa Details"),r.a.createElement(ne.a,{className:a.divider})),r.a.createElement(re.a,{required:!0,id:"name",label:"Full Name",variant:"outlined",value:l.name.value,onChange:g,InputProps:{readOnly:!0}}),r.a.createElement(re.a,{required:!0,id:"type",select:!0,value:l.type.value,label:"Kpa Type",name:"type",onChange:g,InputLabelProps:{shrink:!0},variant:"outlined"},p.map((function(e){return r.a.createElement(te.a,{key:e.value,value:e.value},Object(b.startCase)(Object(b.camelCase)(e.label)))}))),r.a.createElement(re.a,{required:!0,id:"title",name:"title",label:"Kpa Title",onChange:g,value:l.title.value,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{required:!0,id:"stage",select:!0,name:"stage",value:l.stage.value,label:"Kpa Stage",onChange:g,InputLabelProps:{shrink:!0},variant:"outlined"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=p.find((function(a){return a.value===e}));return(a=a?a.stage:[{label:"Select Stage",value:""}]).map((function(e){return r.a.createElement(te.a,{key:e.id+e.title,value:e.id},e.title)}))}(l.type.value)),r.a.createElement(ce.a,{className:a.textArea,rowsMin:3,id:"description",name:"description",placeholder:"Description",value:l.description.value,onChange:g}),r.a.createElement(S.a,null,r.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit",onClick:function(a){a.preventDefault(),console.log(l);var t={title:l.title.value,type:l.type.value,description:l.description.value,stage:l.stage.value};e.profileSubmit(t)}},"Submit"),e.stage&&r.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:e.handleDelete},"Delete"),r.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:e.handleClose},"Cancel")))))},ie=oe;oe.defaultProps={title:"",stage:"",description:"",type:""};var se=Object(u.a)((function(e){return{root:{marginBottom:10,borderLeft:function(e){return"4px solid ".concat(e.color.main)}},paper:{padding:e.spacing(1),width:"60%",backgroundColor:e.palette.success.dark}}})),ue=function(e){console.log("card...",e);var a=se(e),t=e.title,c=e.description,l=e.modified_on,o=e.type,s=(e.color,Object(n.useState)(!1)),u=Object(i.a)(s,2),m=u[0],p=u[1],d=function(){var a=Object(w.a)(x.a.mark((function a(t){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Q.a.put("https://kpa-backend.herokuapp.com/kpa/".concat(e.id,"?kpaId=").concat(e._id),t).then((function(e){window.location.reload(),g()}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),f=function(){Q.a.delete("https://kpa-backend.herokuapp.com/kpa/".concat(e.id,"?kpaId=").concat(e._id)).then((function(e){window.location.reload(),g()}))},g=function(){p(!1)};return r.a.createElement(M.b,{draggableId:e.id+"~"+t+"~"+o,index:e.index},(function(n){return r.a.createElement(W.a,Object.assign({className:a.root},n.draggableProps,n.dragHandleProps,{ref:n.innerRef}),r.a.createElement(H.a,{action:r.a.createElement(J.a,{"aria-label":"settings",color:"primary",onClick:function(){return p(!0)}},r.a.createElement(Y.a,null)),titleTypographyProps:{variant:"body1"},title:t,subheader:new Date(l).toDateString()}),r.a.createElement(G.a,null,r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},c)),r.a.createElement(ae,{open:m,handleClose:g},r.a.createElement(ie,Object.assign({profileSubmit:d},e,{handleDelete:f,handleClose:g}))))}))},me=ue;ue.defaultProps={title:"Forms in React",description:"With supporting text below as a natural lead-in to additional content.",type:"component",modified_on:new Date,name:"Dinesh S"};var pe=function(e){var a=e.task;console.log("column.......");return r.a.createElement(M.c,{droppableId:a.id},(function(e){return r.a.createElement("div",Object.assign({style:{margin:"5px 10px"}},e.droppableProps,{ref:e.innerRef}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==e.length)return e.map((function(e,a){return r.a.createElement(me,Object.assign({key:e.id+"~"+e.title},e,{index:a}))}))}(a.taskIds),e.placeholder)}))},de=t(596),fe=t(579),ge=t(578),he=t(236),be=t.n(he),ve=t(604),Ee=t(128),ye=t.n(Ee),je=t(600),ke=Object(K.a)({iconFilled:{color:"#4caf50"}})(ve.a),Oe=Object(K.a)({iconFilled:{color:"#ffc107"}})(ve.a),xe=Object(K.a)({iconFilled:{color:"lightgrey"}})(ve.a),we=function(e){var a=e.completed,t=e.pending,n=e.target||2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{title:"Completed"},r.a.createElement("div",null,r.a.createElement(ke,{name:"completed-color",value:a,max:a,readOnly:!0,icon:r.a.createElement(ye.a,{fontSize:"inherit"})}))),r.a.createElement(je.a,{title:"In Progress"},r.a.createElement("div",null,r.a.createElement(Oe,{name:"pending-color",defaultValue:t,readOnly:!0,max:t,icon:r.a.createElement(ye.a,{fontSize:"inherit"})}))),r.a.createElement(je.a,{title:"Pending"},r.a.createElement("div",null,r.a.createElement(xe,{name:"target-color",max:n-a-t,readOnly:!0,icon:r.a.createElement(ye.a,{fontSize:"inherit"})}))))},Ce=we;we.defaultProps={target:0,completed:0,pending:0};var Se=Object(u.a)((function(e){return{root:{width:"100%"},heading:{textDecoration:"none",fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function Ne(e){var a=Se();return r.a.createElement("div",{className:a.root},r.a.createElement(de.a,{defaultExpanded:!1},r.a.createElement(ge.a,{expandIcon:r.a.createElement(be.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(U.a,{className:a.heading,component:o.b,to:function(a){return"".concat(a.pathname,"?type=").concat("kpa"===e.type?"name":"kpa","&&value=").concat(e.id)}},Object(b.startCase)(Object(b.camelCase)(e.name))),r.a.createElement(Ce,e.status)),r.a.createElement(fe.a,null,e.children)))}var Ie=function(e){function a(){var e,t;Object(L.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(R.a)(this,(e=Object(q.a)(a)).call.apply(e,[this].concat(r)))).state={columns:t.props.data,columnOrder:Object.keys(t.props.data)},t.DragEnd=function(e){e.destination&&e.source.droppableId!==e.destination.droppableId&&t.props.changeStage(e)},t}return Object(F.a)(a,e),Object(A.a)(a,[{key:"render",value:function(){console.log(this.state,"roe",this.props);var e=this.props,a=e.classes,t=e.data,n=e.name,c=e.id,l=e.status,o=e.type,i=Object.keys(t);return r.a.createElement("div",{className:a.root},r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{container:!0,item:!0,xs:12},r.a.createElement(Ne,{name:n,id:c,type:o,status:l},r.a.createElement(M.a,{onDragEnd:this.DragEnd},i.map((function(e,n){return r.a.createElement(z.a,{item:!0,xs:!0,key:e+t[e].title,className:a.background},r.a.createElement(S.a,{component:"div",p:1.5,mb:1,style:{opacity:"0.85",borderRadius:"5px 5px 0 0"},bgcolor:"text.primary"},r.a.createElement(U.a,{className:a.title},t[e].title,r.a.createElement("span",{className:a.arrow}))),r.a.createElement(pe,{task:t[e],index:n}))})))))))}}]),a}(r.a.Component),_e=Object(K.a)((function(e){return{root:{flexGrow:1},background:{borderRadius:"8px",borderRight:"22px solid white",background:e.palette.divider},stage2:{background:"#00b5ad"},title:{color:"#fff",fontSize:"16px"},arrow:{width:"0",height:"0",lineHeight:"0",borderLeft:"20px solid transparent",borderTop:"10px solid #00b5ad",top:"104%",left:"0",position:"absolute"}}}))(Ie);Ie.defaultProps={id:51827270};var Pe=t(597),Be=t(593);function Te(e){return r.a.createElement(Be.a,Object.assign({elevation:6,variant:"filled"},e))}var De=Object(n.forwardRef)((function(e,a){var t=r.a.useState(e.open),c=Object(i.a)(t,2),l=c[0],o=c[1],s=r.a.useState({message:"",variant:"success"}),u=Object(i.a)(s,2),m=u[0],p=u[1];Object(n.useImperativeHandle)(a,(function(){return{handleClick:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";p({message:e,variant:a}),o(!0)}}}));var d=function(e,a){"clickaway"!==a&&o(!1)};return r.a.createElement(Pe.a,{open:l,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:d},r.a.createElement(Te,{onClose:d,severity:m.variant},m.message))})),Le=t(237),Ae=t.n(Le),Re=t(573);function qe(){return Q.a.all([Q.a.get("/user"),Q.a.get("/kpaCreation")])}Q.a.defaults.baseURL="https://kpa-backend.herokuapp.com";var Fe=t(601),Me=t(581),Ke=Object(u.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function ze(e){var a=e.open,t=Ke();return r.a.createElement(Fe.a,{className:t.backdrop,open:a},r.a.createElement(Me.a,{color:"inherit"}))}var We=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:220},selectEmpty:{margin:e.spacing(2)}}})),He=function(e){var a=Object(v.g)(),t=Object(v.h)(),c=h.a.parse(t.search),l=Object(n.useState)({type:""}),o=Object(i.a)(l,2),u=o[0],m=o[1],p=Object(n.useState)({profile:[],kpaCreation:[]}),d=Object(i.a)(p,2),f=d[0],g=d[1],E=Object(n.useState)([]),y=Object(i.a)(E,2),j=y[0],k=y[1],O=Object(n.useState)(!1),P=Object(i.a)(O,2),B=P[0],T=P[1],L=Object(n.useState)(!1),A=Object(i.a)(L,2),R=A[0],q=A[1],F=We(),M=Object(n.useRef)();function K(e){return z.apply(this,arguments)}function z(){return(z=Object(w.a)(x.a.mark((function e(a){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=a.draggableId.split("~"),n={},f.profile.filter((function(e){return e.empId===t[0]})).map((function(e){return e.kpa.filter((function(e){return e.type===t[2]&&e.title===t[1]})).map((function(t){n=Object(s.a)({},t,{stage:a.destination.droppableId,modified_on:(new Date).toJSON(),empId:e.empId})}))})),e.prev=4,e.next=7,Q.a.put("https://kpa-backend.herokuapp.com/kpa/".concat(n.empId,"?kpaId=").concat(n._id),n);case 7:e.sent,window.location.reload(),M.current.handleClick("Profile ".concat(t[0]," updated Successfully"),"success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.response&&(M.current.handleClick(e.t0.message,"error"),console.log(e.t0.toJSON()));case 15:T(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function W(){return H.apply(this,arguments)}function H(){return(H=Object(w.a)(x.a.mark((function e(){var a,t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.prev=1,e.next=4,qe();case 4:a=e.sent,t=Object(i.a)(a,2),n=t[0],r=t[1],g({profile:n.data,kpaCreation:r.data}),"name"===c.type?(k(n.data.map((function(e){return{id:e.empId,value:e.name}}))),m({type:c.value})):"kpa"===c.type&&n.data.forEach((function(e){k(Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}}))),m({type:c.value})})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response&&(M.current.handleClick(e.t0.message,"error"),console.log(e.t0.toJSON()));case 15:T(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){W()}),[c.type]);var J="name"===c.type?function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:51827270,n=_(e.profile);return n=n.filter((function(e){return e.id===t})),n=Object.entries(Object(b.groupBy)(n,"type")).map((function(n){var r=D(n[1]),c={pending:0,completed:0},l={},o={},u={};e.kpaCreation.filter((function(e){return e.name===n[0]})).forEach((function(e){a=e.stage.length,e.stage.forEach((function(e){o[e.id]=e,l[e.id]=Object(s.a)({},e,{taskIds:[]})}))})),e.profile.filter((function(e){return e.empId===t})).forEach((function(e){c.target=e.target_kpa[n[0]]}));for(var m=0,p=Object.entries(r);m<p.length;m++){var d=Object(i.a)(p[m],2),f=d[0],g=d[1];parseInt(g.id)===a?c.completed=g.taskIds.length:c.pending=c.pending+g.taskIds.length,u[f]=Object(s.a)({},g,{},o[f])}return[[n[0]],Object(s.a)({},l,{},u),c,n[0]]}))}(f,u.type):function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component",t=_(e.profile);t=t.filter((function(e){return e.type===a}));var n,r={},c={};return e.kpaCreation.filter((function(e){return e.name===a})).forEach((function(e){n=e.stage.length,e.stage.forEach((function(e){c[e.id]=e,r[e.id]=Object(s.a)({},e,{taskIds:[]})}))})),t=Object.entries(Object(b.groupBy)(t,"name")).map((function(t){var l=Object(s.a)({},D(t[1])),o={pending:0},u={};e.profile.filter((function(e){return e.name===t[0]})).forEach((function(e){o.target=e.target_kpa[a]}));for(var m=0,p=Object.entries(l);m<p.length;m++){var d=Object(i.a)(p[m],2),f=d[0],g=d[1];parseInt(g.id)===n?o.completed=g.taskIds.length:o.pending=o.pending+g.taskIds.length,u[f]=Object(s.a)({},l[f],{},c[f])}return[[t[0]],Object(s.a)({},r,{},u),o,t[1][0].id]}))}(f,u.type),G=function(){var e=Object(w.a)(x.a.mark((function e(a){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.isEmpty)(Y)?"":Y.id,e.prev=1,e.next=4,Q.a.post("https://kpa-backend.herokuapp.com/kpa/".concat(t),a);case 4:e.sent,q(!1),W(),M.current.handleClick("Profile ".concat(Y.value," updated Successfully"),"success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response&&(M.current.handleClick(e.t0.message,"error"),console.log(e.t0.toJSON()));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),V=function(){q(!1)},Y=Object(b.find)(j,(function(e){return e.id==c.value}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{borderRadius:"borderRadius",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",m:1,px:2},r.a.createElement(U.a,{variant:"h6",component:"h6"},Object(b.isEmpty)(Y)?"":Object(b.startCase)(Object(b.camelCase)(Y.value))," KPA Board"),r.a.createElement("div",null,"name"===c.type&&r.a.createElement(N.a,{variant:"outlined",style:{marginRight:"15px"},onClick:function(){return q(!0)},endIcon:r.a.createElement(Ae.a,null)},"Add Kpa"),r.a.createElement(Re.a,null,"Show By"),r.a.createElement(I.a,{value:u.type,onChange:function(e){var t=e.target.name;m(Object(C.a)({},t,e.target.value)),a.push({pathname:"/kpa-profile",search:"?".concat("type","=",c.type,"&&","value","=").concat(e.target.value)})},name:"type",className:F.selectEmpty,inputProps:{"aria-label":"age"}},j.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},Object(b.startCase)(Object(b.camelCase)(e.value)))}))))),B&&r.a.createElement(ze,{open:B}),J.map((function(e){return r.a.createElement(S.a,{m:1,key:e[0]+u.type},r.a.createElement(_e,{data:e[1],name:e[0],id:e[3],type:c.type,changeStage:K,status:e[2]}))})),r.a.createElement(De,{ref:M}),"name"===c.type&&r.a.createElement(ae,{open:R,handleClose:V},r.a.createElement(ie,{profileSubmit:G,name:Object(b.isEmpty)(Y)?"":Y.value,handleClose:V})))},Je=t(255),Ge=t(589),Ue=t(161),Ve=t.n(Ue),Ye=t(239),$e=t.n(Ye),Qe=t(238),Xe=t.n(Qe),Ze=t(259),ea=t(572),aa=t(592),ta=Object(u.a)((function(e){return{paper:{padding:e.spacing(1,2,1),background:"transparent",marginTop:"0",borderRadius:"0",boxShadow:"none",height:"230px",display:"flex",flexDirection:"column",justifyContent:"space-around"},whitecolor:{color:"#4b4b4b",width:"30px",height:"30px",margin:"4px 4px -10px",textAlign:"center",lineHeight:"33px"},wholeContainer:{background:"#fff",borderRadius:"3px"},containertitle:{fontSize:"18px",fontWeight:"500",color:"#4b4b4b"},formControl:{minWidth:100},legend:{borderRadius:"50%",width:"14px",height:"14px",overflow:"hidden",display:"inline-block",marginRight:"4px"}}})),na=function(e){var a=e.color.color,t=ta();return r.a.createElement(S.a,{className:t.wholeContainer},r.a.createElement(S.a,{p:1},r.a.createElement(S.a,{component:"span",display:"inline"},function(){switch(e.id){case"bar":return r.a.createElement(Ve.a,{className:t.whitecolor});case"line":return r.a.createElement(Xe.a,{className:t.whitecolor});case"pie":return r.a.createElement($e.a,{className:t.whitecolor});default:return r.a.createElement(Ve.a,{className:t.whitecolor})}}()),r.a.createElement(U.a,{className:t.containertitle,display:"inline"},e.label),r.a.createElement(ea.a,{className:t.formControl,style:{float:"right"}},r.a.createElement(aa.a,{id:"show-by-type",displayEmpty:!0,value:e.showBy,onChange:e.handleChange},e.choice.map((function(e){return r.a.createElement(te.a,{key:e.id,value:e.id},Object(b.startCase)(Object(b.camelCase)(e.value)))}))))),r.a.createElement(ne.a,null),r.a.createElement(Ze.a,{className:t.paper},("bar"===e.id||"line"===e.id)&&r.a.createElement(S.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement("div",null,r.a.createElement(S.a,{bgcolor:a.primaryColor,className:t.legend}),r.a.createElement("span",{style:{fontSize:"12px",marginRight:"14px"}},"Completed"),r.a.createElement(S.a,{bgcolor:a.secondaryColor,className:t.legend}),r.a.createElement("span",{style:{fontSize:"12px"}},"line"===e.id?"Target":"Pending")),!1),e.children))},ra=na;na.defaultProps={color:{color:{primaryColor:"",secondaryColor:""}}};var ca=t(20),la=function(e){var a=e.data,t=a.length>0?a[1].color:{main:"",dark:""};return r.a.createElement(ca.i,{className:"card",width:"100%",height:"100%"},r.a.createElement(ca.b,{data:a[0],layout:"vertical",margin:{top:10,right:10,left:20,bottom:5}},r.a.createElement(ca.k,{type:"number",tick:!1,domain:[0,a.pending]}),r.a.createElement(ca.l,{dataKey:"name",tickLine:!1,tickFormatter:function(e){return e.substr(0,6)+".."},type:"category"}),r.a.createElement(ca.j,null),r.a.createElement(ca.a,{dataKey:"completed",stackId:"a",fill:t.primaryColor}),r.a.createElement(ca.a,{dataKey:"pending",stackId:"a",fill:t.secondaryColor})))},oa=function(e){var a=e.data,t=Object(b.head)(a)?Object(b.head)(a).color:{primaryColor:"#115293",secondaryColor:"#5fa6ec"};return r.a.createElement(ca.i,{className:"card",mt:2,width:"100%",height:"100%"},r.a.createElement(ca.f,{data:a,margin:{top:20,right:10,left:5,bottom:5}},r.a.createElement(ca.k,{dataKey:"month",tickFormatter:function(e){return e.substr(0,3)}}),r.a.createElement(ca.l,{tickLine:!1,tick:!1,width:2,domain:[0,"dataMax + 1"]}),r.a.createElement(ca.j,{formatter:function(e,a,t){return[e,Object(b.startCase)(Object(b.camelCase)(a))]}}),r.a.createElement(ca.e,{type:"monotone",dataKey:"completed",stroke:t.primaryColor,activeDot:{r:8}}),r.a.createElement(ca.e,{type:"monotone",dataKey:"target",strokeDasharray:"5 2",stroke:"grey"})))};function ia(e){var a=e.split("-"),t=Object(i.a)(a,2),n=t[0];switch(t[1]){case"T":return ua[n].light;case"C":return ua[n].dark;case"P":default:return ua[n].main}}function sa(e){var a=e.split("-"),t=Object(i.a)(a,2);t[0];switch(t[1]){case"T":return"Target";case"C":return"Completed";case"P":return"Pending";default:return"Target"}}var ua={component:{main:"#1976d2",dark:"#115293",light:"#5fa6ec"},Tech_session:{dark:"#d32f2f",main:"#f44336",light:"#e57373"},Master_class:{dark:"#ffd600",main:"#ffea00",light:"#fff9b3"},case_study:{dark:"#388e3c",main:"#4caf50",light:"#81c784"},Tutorial_session:{dark:"#388e3c",main:"#4caf50",light:"#81c784"},Blog:{dark:"#388e3c",main:"#4caf50",light:"#81c784"}},ma=function(e){var a=e.split("-"),t="";switch(a[1]){case"T":t="Net Yet Started";break;case"C":t="Completed";break;case"P":t="In Progess";break;default:t=""}return Object(b.startCase)(Object(b.camelCase)(a[0]))+" "+t},pa=function(e,a){var t=e||[];return 0===t.length?null:t.length>1?e.map((function(e){return{id:e.name,value:Object(b.startCase)(Object(b.camelCase)(e.name)),color:ua[e.name].main}})):a.map((function(e){return{id:e.name,value:sa(e.name),color:ia(e.name)}}))},da=function(e){var a=e.data,t=Object(i.a)(a,2),n=t[0],c=t[1];return r.a.createElement(ca.i,{width:"100%",height:"100%"},r.a.createElement(ca.h,{margin:{top:20}},r.a.createElement(ca.g,{data:n,dataKey:"value",outerRadius:60,paddingAngle:n&&n.length>1?5:0,fill:"#8884d8"},n&&n.map((function(e,a){return r.a.createElement(ca.c,{key:"cell-".concat(a),fill:ua[e.name].dark})}))),r.a.createElement(ca.d,{wrapperStyle:{fontSize:"11px",top:"0"},payload:pa(n,c)}),r.a.createElement(ca.g,{data:c,paddingAngle:5,dataKey:"value",innerRadius:70,outerRadius:90,fill:"#82ca9d"},c&&c.map((function(e,a){return r.a.createElement(ca.c,{key:"cell-".concat(a),fill:ia(e.name)})}))),r.a.createElement(ca.j,{formatter:function(e,a,t){return[e,ma(a)]}})))},fa=Object(u.a)((function(e){return{tabletext:{fontSize:"0.875rem !important"},tableLink:{textDecoration:"none",fontSize:"1rem !important"}}})),ga=function(e){var a,t=fa();return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{color:"textSecondary",className:t.tabletext},e.content),e.link?r.a.createElement(U.a,{color:"textPrimary",component:o.b,to:"kpa-profile?type=name&&value="+e.data1,className:t.tableLink},e.name):r.a.createElement(U.a,{color:"textPrimary",className:t.tableLink},e.name),r.a.createElement(U.a,{color:"textSecondary",className:t.tabletext},e.data1),r.a.createElement(U.a,{color:"textSecondary",className:t.tabletext},e.link?(a=e.data2,[{role:"SE",label:"Software Engineer"},{role:"LE",label:"Lead Engineer"},{role:"TL",label:"Technical Lead"},{role:"TM",label:"Technical Manager"},{role:"TE",label:"Technical Engineer"}].find((function(e){return e.role===a})).label):e.data2))},ha=t(583),ba=t(584),va=t(602),Ea=t(585),ya=t(586),ja=t(587),ka=t(588),Oa=t(582),xa=t(127),wa=t(126),Ca=t(253),Sa=t.n(Ca),Na=t(252),Ia=t.n(Na),_a=[{value:"LE",label:"Lead Engineer"},{value:"TL",label:"Tech Lead"},{value:"SE",label:"Software Engineer"},{value:"TM",label:"Manager"}],Pa=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",padding:e.spacing(3),"& .MuiTextField-root":{margin:e.spacing(2),width:"25ch"},"& .MuiButton-root":{margin:e.spacing(3),width:"15ch"}},divider:{marginTop:e.spacing(2)}}})),Ba=function(e){console.log(e);var a=Pa(),t=Object(n.useState)({empId:{required:!0,value:""},name:{required:!0,value:""},contact:{required:!0,value:""},mail:{required:!0,value:""},manager:{required:!0,value:""},designation:{required:!0,value:""},project_name:{required:!1,value:""},project_manager:{required:!1,value:""},project_mail:{required:!1,value:""},project_contact:{required:!1,value:""}}),c=Object(i.a)(t,2),l=c[0],o=c[1],u=function(e){console.log(e,"======================>");var a=e.target.id,t=e.target.value;o((function(e,n){var r=e[a];return Object(s.a)({},e,Object(C.a)({},a,Object(s.a)({},r,{value:t})))}))};return r.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(S.a,{flexGrow:1,mb:2,px:5,style:{width:"100%"}},r.a.createElement(U.a,{variant:"h6"},"Personal Details"),r.a.createElement(ne.a,{className:a.divider})),r.a.createElement(re.a,{required:!0,id:"name",label:"Full Name",variant:"outlined",value:l.name.value,onChange:u,InputLabelProps:{shrink:!0}}),r.a.createElement(re.a,{required:!0,id:"empId",label:"Employee Id",onChange:u,value:l.empId.value,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{required:!0,id:"manager",value:l.manager.value,label:"Project Manager",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{required:!0,id:"designation",select:!0,value:l.designation.value,label:"Designation",onChange:function(e){var a=e.target.value;o((function(e,t){var n=e.designation;return Object(s.a)({},e,{designation:Object(s.a)({},n,{value:a})})}))},InputLabelProps:{shrink:!0},variant:"outlined"},_a.map((function(e){return r.a.createElement(te.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(re.a,{required:!0,id:"contact",value:l.contact.value,label:"Contact",type:"number",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{id:"mail",label:"Email Id",type:"Email",value:l.mail.value,onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(S.a,{flexGrow:1,mb:2,px:5,style:{width:"100%"}},r.a.createElement(U.a,{variant:"h6"},"Project Details"),r.a.createElement(ne.a,{className:a.divider})),r.a.createElement(re.a,{id:"project_name",label:"Name",value:l.project_name.value,onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{id:"project_manager",label:"Manager Name",value:l.project_manager.value,InputLabelProps:{shrink:!0},onChange:u,variant:"outlined"}),r.a.createElement(re.a,{id:"project_mail",label:"Contact",value:l.project_mail.value,type:"number",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{id:"project_contact",label:"Email Id",value:l.project_contact.value,type:"Email",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(S.a,null,r.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit",onClick:function(a){var t={};e.kpaCreation.forEach((function(e){var a=e.target.find((function(e){return e.role===l.designation.value})).target;t[e.name]=a})),a.preventDefault();var n={empId:l.empId.value,name:l.name.value,contact:l.contact.value,mail:l.mail.value,manager:l.manager.value,designation:l.designation.value,project_details:{name:l.project_name.value,project_manager:l.project_manager.value,mail:l.project_mail.value,contact:l.project_contact.value},target_kpa:t};""===l.project_name.value&&(n=Object(s.a)({},n,{project_details:{}})),Q.a.post("https://kpa-backend.herokuapp.com/user",n).then((function(a){e.profileSubmit(n)})).catch((function(e){return console.log(e)}))}},"Submit"),r.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:e.handleClose},"Cancel")))},Ta=Object(u.a)((function(e){return{paper:{padding:e.spacing(1,3),background:"transparent",borderRadius:"0",boxShadow:"none"},topbox:{marginLeft:"15px",marginTop:"0",padding:"20px",background:xa.a.A400,borderRadius:"3px"},whitecolor:{color:"#4b4b4b",width:"30px",height:"30px",margin:"4px 4px -10px",textAlign:"center",lineHeight:"33px"},wholeContainer:{background:"#fff",borderRadius:"3px"},containertitle:{color:"#3C4858",fontWeight:"400"},avatar:{backgroundColor:xa.a.A400},tabletext:{fontSize:"0.875rem !important"},downloadIcon:{color:wa.a[500]},transColor:{background:"#fff"},errColor:{backgroundColor:"#f2dede"},addEmpBtn:{marginTop:"5px",marginRight:"5px"},smallIcon:{width:e.spacing(3),height:e.spacing(3)}}})),Da=function(e){var a=Ta(),t=Object(n.useState)(!1),c=Object(i.a)(t,2),l=c[0],o=c[1],s=Object(n.useState)({}),u=Object(i.a)(s,2),m=u[0],p=u[1],d=function(e,a,t){return{name:e,data1:a,data2:t}},f=function(){o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{p:1,className:a.wholeContainer},r.a.createElement(S.a,{display:"flex",p:1,justifyContent:"space-between"},r.a.createElement("div",null,r.a.createElement(Sa.a,{className:a.whitecolor}),r.a.createElement(U.a,{className:a.containertitle,display:"inline"},"Employee Details")),r.a.createElement("div",null,r.a.createElement(N.a,{variant:"outlined",color:"#ffffff",className:a.addEmpBtn,onClick:function(){p({}),o(!0)},startIcon:r.a.createElement(va.a,{alt:"Add",className:a.smallIcon,src:"/AddEmployee.svg"})},"Add Employee"))),r.a.createElement(ne.a,null),r.a.createElement(Ze.a,{className:a.paper},r.a.createElement(Ea.a,null,r.a.createElement(ya.a,{className:a.table,"aria-label":"Employee Details"},r.a.createElement(ja.a,null,r.a.createElement(ha.a,null,r.a.createElement(ba.a,null,"Employee"),r.a.createElement(ba.a,null,"Project"),r.a.createElement(ba.a,null,"Resume"))),r.a.createElement(ka.a,null,e.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(Oa.a,null),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"40%"}))),r.a.createElement(Ze.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(Oa.a,null),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"40%"})))):e.data.map((function(e){var t=e.project_details;return r.a.createElement(ha.a,{key:e.empId,className:Object(b.isEmpty)(t)?a.errColor:a.transColor},r.a.createElement(ba.a,{component:"th",scope:"row"},r.a.createElement(S.a,{display:"flex",alignItems:"center",flexDirection:"row"},r.a.createElement(S.a,null,r.a.createElement(va.a,{className:a.avatar},function(e){var a=e.split(" ");return a[0].split("")[0]+a[a.length-1].split("")[0]}(e.name))),r.a.createElement(S.a,{ml:2},r.a.createElement(ga,Object.assign({},d(e.name,e.empId,e.designation),{link:!0}))))),r.a.createElement(ba.a,null,!Object(b.isEmpty)(t)&&r.a.createElement(ga,Object.assign({},d(t.name,t.project_manager,t.contact),{link:!1})),Object(b.isEmpty)(t)&&r.a.createElement("h4",null,"Currently in Bench")),r.a.createElement(ba.a,null,r.a.createElement(Ia.a,{fontSize:"large",className:a.downloadIcon})))}))))))),r.a.createElement(ae,{open:l,handleClose:f},r.a.createElement(Ba,{profile:m,profileSubmit:function(a){o(!1),e.profileSubmit()},kpaCreation:e.kpaCreation,handleClose:f})))},La=t(254),Aa=t.n(La),Ra=Object(u.a)((function(e){return{paper:{padding:e.spacing(2),background:"transparent",borderRadius:"0",boxShadow:"none"},topbox:{marginLeft:"15px",marginTop:"0",padding:"20px",background:xa.a.A400,borderRadius:"3px"},whitecolor:{color:"#4b4b4b",width:"30px",height:"30px",margin:"4px 4px -10px",textAlign:"center",lineHeight:"33px"},wholeContainer:{background:"#fff",borderRadius:"3px"},containertitle:{color:"#3C4858",fontWeight:"400",marginLeft:"10px"},avatar:{backgroundColor:wa.a[500]},sidecard:{borderRadius:"5px",marginBottom:"5px"},cardContent:{paddingTop:"0 !important",paddingBottom:"15px !important"},noRecentNotification:{background:"linear-gradient(60deg, #e11313f5, #f807072e)",marginTop:5,padding:e.spacing(2),margin:"auto",marginBottom:e.spacing(1)}}})),qa=function(e){var a=Ra();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,item:!0,xs:12},r.a.createElement(S.a,{className:a.wholeContainer,style:{width:"100%"}},r.a.createElement(S.a,{p:2},r.a.createElement(Aa.a,{className:a.whitecolor}),r.a.createElement(U.a,{className:a.containertitle,display:"inline"},"Notifications")),r.a.createElement(ne.a,null),r.a.createElement(Ze.a,{className:a.paper},function(){var t,n=function(e){var a=_(e),t=new Date;return t.setDate(t.getDate()-30),(a=Object(b.orderBy)(a,["modified_on"],["desc"])).filter((function(e){return new Date(e.modified_on)>=t})).slice(0,4)}(e.data),c=n.length;return e.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(Oa.a,null),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"40%"}))),r.a.createElement(Ze.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(Oa.a,null),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"60%"}),r.a.createElement(Oa.a,{width:"40%"})))):c>0?r.a.createElement(r.a.Fragment,null,function(e){return e.map((function(e,t){return r.a.createElement(z.a,{item:!0,xs:12,sm:6,lg:12,key:t},r.a.createElement(W.a,{className:a.sidecard,style:{borderLeft:"4px solid ".concat(e.color.main)},width:"100%"},r.a.createElement(H.a,{pb:2,avatar:r.a.createElement(va.a,{alt:e.name,src:"/images/"+e.name+".jpg",className:a.avatar}),title:e.name,subheader:new Date(e.modified_on).toLocaleDateString()}),r.a.createElement(G.a,{className:a.cardContent},r.a.createElement(U.a,{variant:"overline",display:"block"},Object(b.upperCase)(Object(b.camelCase)(e.type))),r.a.createElement(U.a,{className:a.sidebarTitle,gutterBottom:!0},e.title),r.a.createElement(U.a,{variant:"body2",color:"textSecondary"},e.description))))}))}(n)," "):r.a.createElement(r.a.Fragment,null,(t="No Recent Activities!",r.a.createElement(Ze.a,{className:a.noRecentNotification,elevation:3},r.a.createElement(z.a,{container:!0,spacing:2},r.a.createElement(ga,{content:t})))))}()))))},Fa=Object(u.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},chart:{padding:e.spacing(2),color:e.palette.text.secondary,height:200},profileList:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function Ma(){var e=Fa(),a=Object(n.useState)({profile:[],kpaCreation:[]}),t=Object(i.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)({showBy:"",choice:[]}),f=Object(i.a)(d,2),g=f[0],h=f[1],b=Object(n.useState)({showBy:"",choice:[]}),v=Object(i.a)(b,2),E=v[0],y=v[1],j=Object(n.useState)({showBy:"",choice:[]}),k=Object(i.a)(j,2),O=k[0],C=k[1];function S(){return N.apply(this,arguments)}function N(){return(N=Object(w.a)(x.a.mark((function e(){var a,t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,qe();case 4:a=e.sent,t=Object(i.a)(a,2),n=t[0],r=t[1],l({profile:n.data,kpaCreation:r.data}),n.data.forEach((function(e){h({choice:Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}})),showBy:"component"}),y({choice:Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}})),showBy:"component"}),C({choice:[].concat(Object(Je.a)(Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}}))),[{id:"",value:"Overall"}]),showBy:""})})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response&&console.log(e.t0.toJSON());case 15:p(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){S()}),[]);var I=function(e){return e.length>0&&e.some((function(e){return e.kpa.length>0}))};return console.log(c.profile,"DdDD",I(c.profile)),r.a.createElement(Ge.a,{className:e.root},r.a.createElement(z.a,{container:!0,spacing:3},I(c.profile)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(ra,Object.assign({id:"bar",label:"Break Down"},g,{color:T(c.profile,g.showBy,c.kpaCreation)[1],handleChange:function(e){h((function(a,t){return Object(s.a)({},a,{showBy:e.target.value})}))}}),r.a.createElement(la,{data:T(c.profile,g.showBy,c.kpaCreation)}))),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(ra,Object.assign({id:"line",label:"Latter Lines"},E,{color:B(c.profile,E.showBy,c.kpaCreation)[0],handleChange:function(e){y((function(a,t){return Object(s.a)({},a,{showBy:e.target.value})}))}}),r.a.createElement(oa,{data:B(c.profile,E.showBy,c.kpaCreation)}))),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(ra,Object.assign({id:"pie",label:"Overall Progress"},O,{handleChange:function(e){C((function(a,t){return Object(s.a)({},a,{showBy:e.target.value})}))}}),r.a.createElement(da,{data:P(c.profile,O.showBy,c.kpaCreation)}))))," ",r.a.createElement(z.a,{item:!0,xs:8},r.a.createElement(Da,{data:c.profile,loading:m,kpaCreation:c.kpaCreation,profileSubmit:function(){S()}})),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(qa,{data:c.profile,loading:m}))))}var Ka=function(){return r.a.createElement(z.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(z.a,{container:!0,item:!0,xs:6,spacing:3,justify:"center"},r.a.createElement(ie,null)))},za=Object(u.a)((function(e){return{root:{display:"flex",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)","& .MuiTextField-root":{margin:e.spacing(2,1),width:"35ch"}},form:{border:"2px solid white",borderRadius:"15px",backgroundColor:"white",width:"500px",height:"320px",textAlign:"center"},button:{display:"block",margin:"auto"},error:{color:"red",fontSize:"12px",margin:e.spacing(0,0,1)},content:{marginTop:e.spacing(1.5),padding:e.spacing(0,1,2)},title:{background:"black",borderRadius:"15px 15px 0 0",padding:" 10px",color:"white",alignItems:"center",display:"flex",justifyContent:"center"},img:{height:"30px",textAlign:"center"}}})),Wa=function(e){var a=Object(n.useState)({username:"",password:"",error:""}),t=Object(i.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),u=Object(i.a)(o,2),m=u[0],p=u[1],d=za(),f=Object(v.g)(),g=(Object(v.h)().state||{from:{pathname:"/"}}).from,h=function(e){e.persist(),l((function(a){return Object(s.a)({},a,Object(C.a)({},e.target.name,e.target.value))}))},b=function(e){l((function(a){return Object(s.a)({},a,{error:e})}))};return r.a.createElement("div",{className:d.root},r.a.createElement("form",{className:d.form,autoComplete:"off"},r.a.createElement(S.a,{className:d.title},r.a.createElement("img",{className:d.img,src:"/KPA-Logo.svg",alt:"KPA Tracker"}),r.a.createElement(U.a,{variant:"h6",mr:2},"Login")),r.a.createElement("div",{className:d.content},r.a.createElement(re.a,{id:"username",name:"username",label:"Username",type:"text",autoFocus:!0,required:!0,InputLabelProps:{shrink:!0},error:"username"===c.error,onChange:h,value:c.user,placeholder:"admin",variant:"outlined"}),r.a.createElement(re.a,{id:"password",name:"password",label:"Password",type:"password",required:!0,InputLabelProps:{shrink:!0},value:c.password,error:"password"===c.error,placeholder:"******",variant:"outlined",onChange:h}),m&&r.a.createElement("div",{className:d.error},"Username or password invalid"),r.a.createElement(N.a,{variant:"outlined",onClick:function(){return c.username.length<1?(b("username"),!1):c.password.length<1?(b("password"),!1):void("admin"===c.password&&"admin"===c.username?E.authenticate((function(){localStorage.setItem("isAuthenticate",!0),f.replace(g)})):p(!0))},className:d.button},"Submit"))))};function Ha(e){var a=e.children,t=Object(k.a)(e,["children"]);return r.a.createElement(v.b,Object.assign({},t,{render:function(e){var t=e.location;return E.isAuthenticated?a:r.a.createElement(v.a,{to:{pathname:"/login",state:{from:t}}})}}))}var Ja=function(e){var a=Object(v.g)();return Object(n.useEffect)((function(){localStorage.getItem("isAuthenticate")&&E.authenticate((function(){a.push("/")}))}),[]),r.a.createElement("div",{style:Ga},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/login",component:Wa}),r.a.createElement(Ha,{path:"/kpa-profile"},r.a.createElement(He,null)),r.a.createElement(Ha,{path:"/forms"},r.a.createElement(Ka,null)),r.a.createElement(Ha,{path:"/",exact:!0},r.a.createElement(Ma,null))))},Ga={marginTop:"20px"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement(o.a,null,r.a.createElement(j,null),r.a.createElement(Ja,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[299,1,2]]]);
//# sourceMappingURL=main.ef9549af.chunk.js.map