(this["webpackJsonpkpa-team"]=this["webpackJsonpkpa-team"]||[]).push([[0],{299:function(e,a,t){e.exports=t(513)},304:function(e,a,t){},513:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),o=t.n(l),c=(t(304),t(32)),i=t(12),s=t(15),u=t(562),m=t(564),d=t(566),p=t(591),g=t(567),f=t(112),b=t.n(f),h=t(8),v=t(67),E={isAuthenticated:!1,authenticate:function(e){E.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){E.isAuthenticated=!1,setTimeout(e,100)}},y=Object(u.a)((function(e){return{root:{display:"flex",backgroundColor:"#eee"},appBar:{background:"#333333"},toolbar:Object(s.a)({minHeight:0},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},img:{height:"30px",textAlign:"center",marginRight:"5px"},gridcontent:{marginBottom:"15px"},navTab:{padding:"5px",marginLeft:"15px",minWidth:"0"},toolBar:{minHeight:0}}})),j=function(){var e=Object(v.h)(),a=b.a.parse(e.search),t=r.a.useState(Object(h.isEmpty)(a)?0:1),n=Object(i.a)(t,2),l=n[0],o=n[1],s=y();return r.a.createElement("div",null,E.isAuthenticated&&r.a.createElement(m.a,{position:"static",className:s.appBar},r.a.createElement(d.a,{className:s.toolbar},r.a.createElement("img",{className:s.img,src:"/KPA-Logo.svg",alt:"KPA Tracker"}),r.a.createElement(p.a,{value:l,onChange:function(e,a){o(a)}},r.a.createElement(g.a,{label:"Home",component:c.b,to:"/",id:"dashboard",className:s.navTab}),r.a.createElement(g.a,{label:"KPA Board",component:c.b,to:{pathname:"/kpa-profile",search:"?type=kpa&&value=component"},id:"kpa-profile",className:s.navTab})))))},k=t(257),O=t(33),x=t.n(O),w=t(66),C=t(35),S=t(590),N=t(575),I=t(232),T=function(e){var a={component:{main:"#1976d2",dark:"#115293",light:"#5fa6ec"},Tech_session:{dark:"#d32f2f",main:"#f44336",light:"#e57373"},Master_class:{dark:"#ffd600",main:"#ffea00",light:"#fff480"},case_study:{dark:"#388e3c",main:"#4caf50",light:"#81c784"}};return e.map((function(e){return e.kpa.map((function(a){return Object(s.a)({},a,{id:e.empId,name:e.name,designation:e.designation,target:e.target_kpa})}))})).flat(1/0).map((function(e){return Object(s.a)({},e,{color:a[e.type]})}))},L=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===e.length)return[];var n=e.map((function(e){return e.target_kpa})),r=Object(h.groupBy)(T(e),"type");r=a?Object(C.a)({},a,r[a]):r;var l={};t.forEach((function(e){l[e.name]=e.stage.length.toString()}));var o=[],c=[],s=function(e){var a=Object(h.partition)(r[e],(function(a){return a.stage===l[e]})),t=Object(i.a)(a,2),s=t[0],u=t[1],m=Object(h.sumBy)(n,e);o.push({name:e+"-C",value:s.length}),o.push({name:e+"-P",value:u.length}),o.push({name:e+"-T",value:m-u.length-s.length}),c.push({name:e,value:m})};for(var u in r)s(u);return[c,o]},_=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===e.length||""===a)return[];var n=e.map((function(e){return e.target_kpa})),r=Object(h.sumBy)(n,a),l=new Date;l.setDate(l.getDate()-180);var o=T(e).filter((function(e){return new Date(e.modified_on)>=l&&e.type===a})),c=Object(h.head)(T(e).filter((function(e){return e.type===a}))).color;o=Object(h.groupBy)(o,(function(e){return new Date(e.modified_on).getMonth()}));var i=["January","February","March","April","May","June","July","August","September","October","November","December"],u={},m={};t.forEach((function(e){u[e.name]=e.stage.length.toString(),m[e.name]=0}));for(var d=new Date,p=[],g=6;g>=0;g-=1){var f=void 0,b=void 0;f=new Date(d.getFullYear(),d.getMonth()-g,1),b=i[f.getMonth()],p.push({month:b,completed:0,color:{primaryColor:c.dark,secondaryColor:"#A9A9A9"},target:Math.ceil(r/12)})}var v=[],E=function(e){var a={},t=Object(h.groupBy)(o[e],(function(e){return e.type}));Object.keys(t).forEach((function(e){a.completed=t[e].filter((function(e){return e.stage===u[e.type]})).length})),v.push(Object(s.a)({month:i[e]},a,{target:Math.ceil(r/12,2),color:{primaryColor:c.dark,secondaryColor:"#A9A9A9"}}))};for(var y in o)E(y);return p.map((function(e){var a=Object(h.find)(v,["month",e.month])||!1;return a||e}))},P=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(0===e.length||""===a)return[];var n={component:{main:"#1976d2",dark:"#115293",light:"#5fa6ec"},Tech_session:{dark:"#d32f2f",main:"#f44336",light:"#e57373"},Master_class:{dark:"#ffd600",main:"#ffea00",light:"#fff480"},case_study:{dark:"#388e3c",main:"#4caf50",light:"#81c784"}},r=T(e).filter((function(e){return e.type===a})),l=Object(h.groupBy)(r,"name"),o=Object(h.find)(t,["name",a]).stage.length.toString()||"",c=[];for(var u in l){var m=Object(h.partition)(l[u],(function(e){return e.stage===o})),d=Object(i.a)(m,2),p=d[0],g=d[1];c.push({name:u,completed:p,pending:g,target:l[u][0].target[l[u][0].type],id:l[u][0].id})}return c=c.map((function(e){return Object(s.a)({},e,{completed:e.completed.length,pending:e.target-e.completed.length})})),[Object(h.orderBy)(c,["completed"],["desc"]).filter((function(e,a){return a<4})),{color:{primaryColor:n[a].dark,secondaryColor:n[a].light}}]},D=function(e){var a=Object(h.groupBy)(e,"stage"),t={};for(var n in a)t[n]={id:n,title:n,taskIds:a[n]};return t},B=t(229),A=t(230),R=t(256),M=t(231),q=t(258),F=t(84),K=t(5),z=t(580),W=t(569),H=t(576),J=t(517),G=t(577),U=t(130),V=t(234),Y=t.n(V),$=t(28),Q=t.n($),X=t(594);function Z(){return{margin:0,top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var ee=Object(u.a)((function(e){return{paper:{position:"absolute",minWidth:700,maxWidth:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ae(e){var a=ee(),t=r.a.useState(Z),n=Object(i.a)(t,1)[0],l=r.a.createElement("div",{style:n,className:a.paper},e.children);return r.a.createElement(X.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},l)}var te=t(598),ne=t(570),re=t(595),le=t(516),oe=[{name:"component",description:"With supporting text below as a natural lead-in to additional content.",stage:[{title:"Proposal",id:"1"},{title:"Development",id:"2"},{title:"Verification",id:"3"},{title:"Upload(GIT)",id:"4"}],target:[{role:"SE",label:"Software Engineer",target:"2"},{role:"LE",label:"Lead Engineer",target:"2"},{role:"TL",label:"Technical Lead",target:"3"},{role:"TM",label:"Technical Manager",target:"3"}]},{name:"Tech_session",description:"With supporting text below as a natural lead-in to additional content.",stage:[{title:"Topic overview",id:"1"},{title:"Content preparation",id:"2"},{title:"Review",id:"3"},{title:"Online session scheduled",id:"4"}],target:[{role:"SE",label:"Software Engineer",target:"1"},{role:"LE",label:"Lead Engineer",target:"1"},{role:"TL",label:"Technical Lead",target:"2"},{role:"TM",label:"Technical Manager",target:"2"}]},{name:"Master_class",description:"With supporting text below as a natural lead-in to additional content.",stage:[{title:"Topic overview",id:"1"},{title:"Content preparation",id:"2"},{title:"Review",id:"3"},{title:"Classroom session scheduled",id:"4"}],target:[{role:"SE",label:"Software Engineer",target:"0"},{role:"LE",label:"Lead Engineer",target:"1"},{role:"TL",label:"Technical Lead",target:"2"},{role:"TM",label:"Technical Manager",target:"2"}]},{name:"case_study",description:"With supporting text below as a natural lead-in to additional content.",stage:[{title:"Solution identifies",id:"1"},{title:"Documentation",id:"2"},{title:"Review",id:"3"},{title:"Approval",id:"4"}],target:[{role:"SE",label:"Software Engineer",target:"2"},{role:"LE",label:"Lead Engineer",target:"2"},{role:"TL",label:"Technical Lead",target:"3"},{role:"TM",label:"Technical Manager",target:"3"}]}].map((function(e){return{label:e.name,value:e.name,stage:e.stage}})),ce=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",padding:e.spacing(3),"& .MuiTextField-root":{margin:e.spacing(2),width:"25ch"},"& .MuiButton-root":{margin:e.spacing(3),width:"15ch"}},textArea:{margin:e.spacing(3),width:"85%",padding:e.spacing(1)},divider:{marginTop:e.spacing(2)}}})),ie=function(e){var a=ce(),t=Object(n.useState)({title:{required:!0,value:e.title},name:{required:!0,value:e.name},type:{required:!0,value:e.type},description:{required:!0,value:e.description},stage:{required:!0,value:e.stage}}),l=Object(i.a)(t,2),o=l[0],c=l[1],u=function(e){var a=e.target.name,t=e.target.value;c((function(e,n){var r=e[a];return Object(s.a)({},e,Object(C.a)({},a,Object(s.a)({},r,{value:t})))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,null,r.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(S.a,{flexGrow:1,mb:2,px:5,style:{width:"100%"}},r.a.createElement(U.a,{variant:"h6"},"Kpa Details"),r.a.createElement(ne.a,{className:a.divider})),r.a.createElement(re.a,{required:!0,id:"name",label:"Full Name",variant:"outlined",value:o.name.value,onChange:u,InputProps:{readOnly:!0}}),r.a.createElement(re.a,{required:!0,id:"type",select:!0,value:o.type.value,label:"Kpa Type",name:"type",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"},oe.map((function(e){return r.a.createElement(te.a,{key:e.value,value:e.value},Object(h.startCase)(Object(h.camelCase)(e.label)))}))),r.a.createElement(re.a,{required:!0,id:"title",name:"title",label:"Kpa Title",onChange:u,value:o.title.value,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{required:!0,id:"stage",select:!0,name:"stage",value:o.stage.value,label:"Kpa Stage",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=oe.find((function(a){return a.value===e}));return(a=a?a.stage:[{label:"Select Stage",value:""}]).map((function(e){return r.a.createElement(te.a,{key:e.id+e.title,value:e.id},e.title)}))}(o.type.value)),r.a.createElement(le.a,{className:a.textArea,rowsMin:3,id:"description",name:"description",placeholder:"Description",value:o.description.value,onChange:u}),r.a.createElement(S.a,null,r.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit",onClick:function(a){a.preventDefault(),console.log(o);var t={title:o.title.value,type:o.type.value,description:o.description.value,stage:o.stage.value};e.profileSubmit(t)}},"Submit"),e.stage&&r.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:e.handleDelete},"Delete"),r.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:e.handleClose},"Cancel")))))},se=ie;ie.defaultProps={title:"",stage:"",description:"",type:""};var ue=Object(u.a)((function(e){return{root:{marginBottom:10,borderLeft:function(e){return"4px solid ".concat(e.color.main)}},paper:{padding:e.spacing(1),width:"60%",backgroundColor:e.palette.success.dark}}})),me=function(e){var a=ue(e),t=e.title,l=e.description,o=e.modified_on,c=e.type,s=(e.color,Object(n.useState)(!1)),u=Object(i.a)(s,2),m=u[0],d=u[1],p=function(){var a=Object(w.a)(x.a.mark((function a(t){return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:Q.a.put("https://kpa-backend.herokuapp.com/kpa/".concat(e.id,"?kpaId=").concat(e._id),t).then((function(e){window.location.reload(),f()}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),g=function(){Q.a.delete("https://kpa-backend.herokuapp.com/kpa/".concat(e.id,"?kpaId=").concat(e._id)).then((function(e){window.location.reload(),f()}))},f=function(){d(!1)};return r.a.createElement(F.b,{draggableId:e.id+"~"+t+"~"+c,index:e.index},(function(n){return r.a.createElement(W.a,Object.assign({className:a.root},n.draggableProps,n.dragHandleProps,{ref:n.innerRef}),r.a.createElement(H.a,{action:r.a.createElement(J.a,{"aria-label":"settings",color:"primary",onClick:function(){return d(!0)}},r.a.createElement(Y.a,null)),titleTypographyProps:{variant:"body1"},title:t,subheader:new Date(o).toDateString()}),r.a.createElement(G.a,null,r.a.createElement(U.a,{variant:"body2",color:"textSecondary",component:"p"},l)),r.a.createElement(ae,{open:m,handleClose:f},r.a.createElement(se,Object.assign({profileSubmit:p},e,{handleDelete:g,handleClose:f}))))}))},de=me;me.defaultProps={title:"Forms in React",description:"With supporting text below as a natural lead-in to additional content.",type:"component",modified_on:new Date,name:"Dinesh S"};var pe=function(e){var a=e.task;return r.a.createElement(F.c,{droppableId:a.id},(function(e){return r.a.createElement("div",Object.assign({style:{margin:"5px 10px"}},e.droppableProps,{ref:e.innerRef}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==e.length)return e.map((function(e,a){return r.a.createElement(de,Object.assign({key:e.id+"~"+e.title},e,{index:a}))}))}(a.taskIds),e.placeholder)}))},ge=t(596),fe=t(579),be=t(578),he=t(236),ve=t.n(he),Ee=t(604),ye=t(128),je=t.n(ye),ke=t(600),Oe=Object(K.a)({iconFilled:{color:"#4caf50"}})(Ee.a),xe=Object(K.a)({iconFilled:{color:"#ffc107"}})(Ee.a),we=Object(K.a)({iconFilled:{color:"lightgrey"}})(Ee.a),Ce=function(e){var a=e.completed,t=e.pending,n=e.target;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{title:"Completed"},r.a.createElement("div",null,r.a.createElement(Oe,{name:"completed-color",value:a,max:a,readOnly:!0,icon:r.a.createElement(je.a,{fontSize:"inherit"})}))),r.a.createElement(ke.a,{title:"In Progress"},r.a.createElement("div",null,r.a.createElement(xe,{name:"pending-color",defaultValue:t,readOnly:!0,max:t,icon:r.a.createElement(je.a,{fontSize:"inherit"})}))),r.a.createElement(ke.a,{title:"Pending"},r.a.createElement("div",null,r.a.createElement(we,{name:"target-color",max:n-a-t,readOnly:!0,icon:r.a.createElement(je.a,{fontSize:"inherit"})}))))},Se=Ce;Ce.defaultProps={target:0,completed:0,pending:0};var Ne=Object(u.a)((function(e){return{root:{width:"100%"},heading:{textDecoration:"none",fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function Ie(e){var a=Ne();return r.a.createElement("div",{className:a.root},r.a.createElement(ge.a,{defaultExpanded:!1},r.a.createElement(be.a,{expandIcon:r.a.createElement(ve.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header"},r.a.createElement(U.a,{className:a.heading,component:c.b,to:function(a){return"".concat(a.pathname,"?type=").concat("kpa"===e.type?"name":"kpa","&&value=").concat(e.id)}},Object(h.startCase)(Object(h.camelCase)(e.name))),r.a.createElement(Se,e.status)),r.a.createElement(fe.a,null,e.children)))}var Te=function(e){function a(){var e,t;Object(B.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(R.a)(this,(e=Object(M.a)(a)).call.apply(e,[this].concat(r)))).state={columns:t.props.data,columnOrder:Object.keys(t.props.data)},t.DragEnd=function(e){e.destination&&e.source.droppableId!==e.destination.droppableId&&t.props.changeStage(e)},t}return Object(q.a)(a,e),Object(A.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.data,n=e.name,l=e.id,o=e.status,c=e.type,i=Object.keys(t);return r.a.createElement("div",{className:a.root},r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{container:!0,item:!0,xs:12},r.a.createElement(Ie,{name:n,id:l,type:c,status:o},r.a.createElement(F.a,{onDragEnd:this.DragEnd},i.map((function(e,n){return r.a.createElement(z.a,{item:!0,xs:!0,key:e+t[e].title,className:a.background},r.a.createElement(S.a,{component:"div",p:1.5,mb:1,style:{opacity:"0.85",borderRadius:"5px 5px 0 0"},bgcolor:"text.primary"},r.a.createElement(U.a,{className:a.title},t[e].title,r.a.createElement("span",{className:a.arrow}))),r.a.createElement(pe,{task:t[e],index:n}))})))))))}}]),a}(r.a.Component),Le=Object(K.a)((function(e){return{root:{flexGrow:1},background:{borderRadius:"8px",borderRight:"22px solid white",background:e.palette.divider},stage2:{background:"#00b5ad"},title:{color:"#fff",fontSize:"16px"},arrow:{width:"0",height:"0",lineHeight:"0",borderLeft:"20px solid transparent",borderTop:"10px solid #00b5ad",top:"104%",left:"0",position:"absolute"}}}))(Te);Te.defaultProps={id:51827270};var _e=t(597),Pe=t(593);function De(e){return r.a.createElement(Pe.a,Object.assign({elevation:6,variant:"filled"},e))}var Be=Object(n.forwardRef)((function(e,a){var t=r.a.useState(e.open),l=Object(i.a)(t,2),o=l[0],c=l[1],s=r.a.useState({message:"",variant:"success"}),u=Object(i.a)(s,2),m=u[0],d=u[1];Object(n.useImperativeHandle)(a,(function(){return{handleClick:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";d({message:e,variant:a}),c(!0)}}}));var p=function(e,a){"clickaway"!==a&&c(!1)};return r.a.createElement(_e.a,{open:o,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:p},r.a.createElement(De,{onClose:p,severity:m.variant},m.message))})),Ae=t(237),Re=t.n(Ae),Me=t(573);function qe(){return Q.a.all([Q.a.get("/user"),Q.a.get("/kpaCreation")])}Q.a.defaults.baseURL="https://kpa-backend.herokuapp.com";var Fe=t(601),Ke=t(581),ze=Object(u.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function We(e){var a=e.open,t=ze();return r.a.createElement(Fe.a,{className:t.backdrop,open:a},r.a.createElement(Ke.a,{color:"inherit"}))}var He=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:220},selectEmpty:{margin:e.spacing(2)}}})),Je=function(e){var a=Object(v.g)(),t=Object(v.h)(),l=b.a.parse(t.search),o=Object(n.useState)({type:""}),c=Object(i.a)(o,2),u=c[0],m=c[1],d=Object(n.useState)({profile:[],kpaCreation:[]}),p=Object(i.a)(d,2),g=p[0],f=p[1],E=Object(n.useState)([]),y=Object(i.a)(E,2),j=y[0],k=y[1],O=Object(n.useState)(!1),L=Object(i.a)(O,2),_=L[0],P=L[1],B=Object(n.useState)(!1),A=Object(i.a)(B,2),R=A[0],M=A[1],q=He(),F=Object(n.useRef)();function K(e){return z.apply(this,arguments)}function z(){return(z=Object(w.a)(x.a.mark((function e(a){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),t=a.draggableId.split("~"),n={},g.profile.filter((function(e){return e.empId===t[0]})).map((function(e){return e.kpa.filter((function(e){return e.type===t[2]&&e.title===t[1]})).map((function(t){n=Object(s.a)({},t,{stage:a.destination.droppableId,modified_on:(new Date).toJSON(),empId:e.empId})}))})),console.log(n,"Casdfa dsg"),e.prev=5,e.next=8,Q.a.put("https://kpa-backend.herokuapp.com/kpa/".concat(n.empId,"?kpaId=").concat(n._id),n);case 8:e.sent,window.location.reload(),F.current.handleClick("Profile ".concat(t[0]," updated Successfully"),"success"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0.response&&(F.current.handleClick(e.t0.message,"error"),console.log(e.t0.toJSON()));case 16:P(!1);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function W(){return H.apply(this,arguments)}function H(){return(H=Object(w.a)(x.a.mark((function e(){var a,t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,qe();case 4:a=e.sent,t=Object(i.a)(a,2),n=t[0],r=t[1],f({profile:n.data,kpaCreation:r.data}),"name"===l.type?(k(n.data.map((function(e){return{id:e.empId,value:e.name}}))),m({type:l.value})):"kpa"===l.type&&n.data.forEach((function(e){k(Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}}))),m({type:l.value})})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response&&(F.current.handleClick(e.t0.message,"error"),console.log(e.t0.toJSON()));case 15:P(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){W()}),[l.type]);var J="name"===l.type?function(e){var a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:51827270,n=T(e.profile);return n=n.filter((function(e){return e.id===t})),n=Object.entries(Object(h.groupBy)(n,"type")).map((function(n){var r=D(n[1]),l={pending:0,completed:0},o={},c={},u={};e.kpaCreation.filter((function(e){return e.name===n[0]})).forEach((function(e){a=e.stage.length,e.stage.forEach((function(e){c[e.id]=e,o[e.id]=Object(s.a)({},e,{taskIds:[]})}))})),e.profile.filter((function(e){return e.empId===t})).forEach((function(e){l.target=e.target_kpa[n[0]]}));for(var m=0,d=Object.entries(r);m<d.length;m++){var p=Object(i.a)(d[m],2),g=p[0],f=p[1];parseInt(f.id)===a?l.completed=f.taskIds.length:l.pending=l.pending+f.taskIds.length,u[g]=Object(s.a)({},f,{},c[g])}return[[n[0]],Object(s.a)({},o,{},u),l,n[0]]}))}(g,u.type):function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component",t=T(e.profile);t=t.filter((function(e){return e.type===a}));var n,r={},l={};return e.kpaCreation.filter((function(e){return e.name===a})).forEach((function(e){n=e.stage.length,e.stage.forEach((function(e){l[e.id]=e,r[e.id]=Object(s.a)({},e,{taskIds:[]})}))})),t=Object.entries(Object(h.groupBy)(t,"name")).map((function(t){var o=Object(s.a)({},D(t[1])),c={pending:0},u={};e.profile.filter((function(e){return e.name===t[0]})).forEach((function(e){c.target=e.target_kpa[a]}));for(var m=0,d=Object.entries(o);m<d.length;m++){var p=Object(i.a)(d[m],2),g=p[0],f=p[1];parseInt(f.id)===n?c.completed=f.taskIds.length:c.pending=c.pending+f.taskIds.length,u[g]=Object(s.a)({},o[g],{},l[g])}return[[t[0]],Object(s.a)({},r,{},u),c,t[1][0].id]}))}(g,u.type),G=function(){var e=Object(w.a)(x.a.mark((function e(a){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),t=Object(h.isEmpty)(Y)?"":Y.id,e.prev=2,e.next=5,Q.a.post("https://kpa-backend.herokuapp.com/kpa/".concat(t),a);case 5:e.sent,M(!1),W(),F.current.handleClick("Profile ".concat(Y.value," updated Successfully"),"success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),e.t0.response&&(F.current.handleClick(e.t0.message,"error"),console.log(e.t0.toJSON()));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a){return e.apply(this,arguments)}}(),V=function(){M(!1)},Y=Object(h.find)(j,(function(e){return e.id==l.value}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{borderRadius:"borderRadius",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",m:1,px:2},r.a.createElement(U.a,{variant:"h6",component:"h6"},Object(h.isEmpty)(Y)?"":Object(h.startCase)(Object(h.camelCase)(Y.value))," KPA Board"),r.a.createElement("div",null,"name"===l.type&&r.a.createElement(N.a,{variant:"outlined",style:{marginRight:"15px"},onClick:function(){return M(!0)},endIcon:r.a.createElement(Re.a,null)},"Add Kpa"),r.a.createElement(Me.a,null,"Show By"),r.a.createElement(I.a,{value:u.type,onChange:function(e){var t=e.target.name;m(Object(C.a)({},t,e.target.value)),a.push({pathname:"/kpa-profile",search:"?".concat("type","=",l.type,"&&","value","=").concat(e.target.value)})},name:"type",className:q.selectEmpty,inputProps:{"aria-label":"age"}},j.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},Object(h.startCase)(Object(h.camelCase)(e.value)))}))))),_&&r.a.createElement(We,{open:_}),J.map((function(e){return r.a.createElement(S.a,{m:1,key:e[0]+u.type},r.a.createElement(Le,{data:e[1],name:e[0],id:e[3],type:l.type,changeStage:K,status:e[2]}))})),r.a.createElement(Be,{ref:F}),"name"===l.type&&r.a.createElement(ae,{open:R,handleClose:V},r.a.createElement(se,{profileSubmit:G,name:Object(h.isEmpty)(Y)?"":Y.value,handleClose:V})))},Ge=t(255),Ue=t(589),Ve=t(161),Ye=t.n(Ve),$e=t(239),Qe=t.n($e),Xe=t(238),Ze=t.n(Xe),ea=t(259),aa=t(572),ta=t(592),na=Object(u.a)((function(e){return{paper:{padding:e.spacing(1,2,1),background:"transparent",marginTop:"0",borderRadius:"0",boxShadow:"none",height:"230px",display:"flex",flexDirection:"column",justifyContent:"space-around"},whitecolor:{color:"#4b4b4b",width:"30px",height:"30px",margin:"4px 4px -10px",textAlign:"center",lineHeight:"33px"},wholeContainer:{background:"#fff",borderRadius:"3px"},containertitle:{fontSize:"18px",fontWeight:"500",color:"#4b4b4b"},formControl:{minWidth:100},legend:{borderRadius:"50%",width:"14px",height:"14px",overflow:"hidden",display:"inline-block",marginRight:"4px"}}})),ra=function(e){var a=e.color.color,t=na();return r.a.createElement(S.a,{className:t.wholeContainer},r.a.createElement(S.a,{p:1},r.a.createElement(S.a,{component:"span",display:"inline"},function(){switch(e.id){case"bar":return r.a.createElement(Ye.a,{className:t.whitecolor});case"line":return r.a.createElement(Ze.a,{className:t.whitecolor});case"pie":return r.a.createElement(Qe.a,{className:t.whitecolor});default:return r.a.createElement(Ye.a,{className:t.whitecolor})}}()),r.a.createElement(U.a,{className:t.containertitle,display:"inline"},e.label),r.a.createElement(aa.a,{className:t.formControl,style:{float:"right"}},r.a.createElement(ta.a,{id:"show-by-type",displayEmpty:!0,value:e.showBy,onChange:e.handleChange},e.choice.map((function(e){return r.a.createElement(te.a,{key:e.id,value:e.id},Object(h.startCase)(Object(h.camelCase)(e.value)))}))))),r.a.createElement(ne.a,null),r.a.createElement(ea.a,{className:t.paper},("bar"===e.id||"line"===e.id)&&r.a.createElement(S.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.a.createElement("div",null,r.a.createElement(S.a,{bgcolor:a.primaryColor,className:t.legend}),r.a.createElement("span",{style:{fontSize:"12px",marginRight:"14px"}},"Completed"),r.a.createElement(S.a,{bgcolor:a.secondaryColor,className:t.legend}),r.a.createElement("span",{style:{fontSize:"12px"}},"line"===e.id?"Target":"Pending")),!1),e.children))},la=ra;ra.defaultProps={color:{color:{primaryColor:"",secondaryColor:""}}};var oa=t(20),ca=function(e){var a=e.data,t=a.length>0?a[1].color:{main:"",dark:""};return r.a.createElement(oa.i,{className:"card",width:"100%",height:"100%"},r.a.createElement(oa.b,{data:a[0],layout:"vertical",margin:{top:10,right:10,left:20,bottom:5}},r.a.createElement(oa.k,{type:"number",tick:!1,domain:[0,a.pending]}),r.a.createElement(oa.l,{dataKey:"name",tickLine:!1,tickFormatter:function(e){return e.substr(0,6)+".."},type:"category"}),r.a.createElement(oa.j,null),r.a.createElement(oa.a,{dataKey:"completed",stackId:"a",fill:t.primaryColor}),r.a.createElement(oa.a,{dataKey:"pending",stackId:"a",fill:t.secondaryColor})))},ia=function(e){var a=e.data,t=Object(h.head)(a)?Object(h.head)(a).color:{primaryColor:"#115293",secondaryColor:"#5fa6ec"};return r.a.createElement(oa.i,{className:"card",mt:2,width:"100%",height:"100%"},r.a.createElement(oa.f,{data:a,margin:{top:20,right:10,left:5,bottom:5}},r.a.createElement(oa.k,{dataKey:"month",tickFormatter:function(e){return e.substr(0,3)}}),r.a.createElement(oa.l,{tickLine:!1,tick:!1,width:2,domain:[0,"dataMax + 1"]}),r.a.createElement(oa.j,{formatter:function(e,a,t){return[e,Object(h.startCase)(Object(h.camelCase)(a))]}}),r.a.createElement(oa.e,{type:"monotone",dataKey:"completed",stroke:t.primaryColor,activeDot:{r:8}}),r.a.createElement(oa.e,{type:"monotone",dataKey:"target",strokeDasharray:"5 2",stroke:"grey"})))};function sa(e){var a=e.split("-"),t=Object(i.a)(a,2),n=t[0];switch(t[1]){case"T":return ma[n].light;case"C":return ma[n].dark;case"P":default:return ma[n].main}}function ua(e){var a=e.split("-"),t=Object(i.a)(a,2);t[0];switch(t[1]){case"T":return"Target";case"C":return"Completed";case"P":return"Pending";default:return"Target"}}var ma={component:{main:"#1976d2",dark:"#115293",light:"#5fa6ec"},Tech_session:{dark:"#d32f2f",main:"#f44336",light:"#e57373"},Master_class:{dark:"#ffd600",main:"#ffea00",light:"#fff9b3"},case_study:{dark:"#388e3c",main:"#4caf50",light:"#81c784"}},da=function(e){var a=e.split("-"),t="";switch(a[1]){case"T":t="Net Yet Started";break;case"C":t="Completed";break;case"P":t="In Progess";break;default:t=""}return Object(h.startCase)(Object(h.camelCase)(a[0]))+" "+t},pa=function(e,a){var t=e||[];return 0===t.length?null:t.length>1?e.map((function(e){return{id:e.name,value:Object(h.startCase)(Object(h.camelCase)(e.name)),color:ma[e.name].main}})):a.map((function(e){return{id:e.name,value:ua(e.name),color:sa(e.name)}}))},ga=function(e){var a=e.data,t=Object(i.a)(a,2),n=t[0],l=t[1];return r.a.createElement(oa.i,{width:"100%",height:"100%"},r.a.createElement(oa.h,{margin:{top:20}},r.a.createElement(oa.g,{data:n,dataKey:"value",outerRadius:60,paddingAngle:n&&n.length>1?5:0,fill:"#8884d8"},n&&n.map((function(e,a){return r.a.createElement(oa.c,{key:"cell-".concat(a),fill:ma[e.name].dark})}))),r.a.createElement(oa.d,{wrapperStyle:{fontSize:"11px",top:"0"},payload:pa(n,l)}),r.a.createElement(oa.g,{data:l,paddingAngle:5,dataKey:"value",innerRadius:70,outerRadius:90,fill:"#82ca9d"},l&&l.map((function(e,a){return r.a.createElement(oa.c,{key:"cell-".concat(a),fill:sa(e.name)})}))),r.a.createElement(oa.j,{formatter:function(e,a,t){return[e,da(a)]}})))},fa=Object(u.a)((function(e){return{tabletext:{fontSize:"0.875rem !important"},tableLink:{textDecoration:"none",fontSize:"1rem !important"}}})),ba=function(e){var a,t=fa();return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{color:"textSecondary",className:t.tabletext},e.content),e.link?r.a.createElement(U.a,{color:"textPrimary",component:c.b,to:"kpa-profile?type=name&&value="+e.data1,className:t.tableLink},e.name):r.a.createElement(U.a,{color:"textPrimary",className:t.tableLink},e.name),r.a.createElement(U.a,{color:"textSecondary",className:t.tabletext},e.data1),r.a.createElement(U.a,{color:"textSecondary",className:t.tabletext},e.link?(a=e.data2,[{role:"SE",label:"Software Engineer"},{role:"LE",label:"Lead Engineer"},{role:"TL",label:"Technical Lead"},{role:"TM",label:"Technical Manager"},{role:"TE",label:"Technical Engineer"}].find((function(e){return e.role===a})).label):e.data2))},ha=t(583),va=t(584),Ea=t(602),ya=t(585),ja=t(586),ka=t(587),Oa=t(588),xa=t(582),wa=t(127),Ca=t(126),Sa=t(253),Na=t.n(Sa),Ia=t(252),Ta=t.n(Ia),La=[{value:"LE",label:"Lead Engineer"},{value:"TL",label:"Tech Lead"},{value:"SE",label:"Software Engineer"},{value:"TM",label:"Manager"}],_a=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",padding:e.spacing(3),"& .MuiTextField-root":{margin:e.spacing(2),width:"25ch"},"& .MuiButton-root":{margin:e.spacing(3),width:"15ch"}},divider:{marginTop:e.spacing(2)}}})),Pa=function(e){console.log(e);var a=_a(),t=Object(n.useState)({empId:{required:!0,value:""},name:{required:!0,value:""},contact:{required:!0,value:""},mail:{required:!0,value:""},manager:{required:!0,value:""},designation:{required:!0,value:""},project_name:{required:!1,value:""},project_manager:{required:!1,value:""},project_mail:{required:!1,value:""},project_contact:{required:!1,value:""}}),l=Object(i.a)(t,2),o=l[0],c=l[1],u=function(e){console.log(e,"======================>");var a=e.target.id,t=e.target.value;c((function(e,n){var r=e[a];return Object(s.a)({},e,Object(C.a)({},a,Object(s.a)({},r,{value:t})))}))};return r.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(S.a,{flexGrow:1,mb:2,px:5,style:{width:"100%"}},r.a.createElement(U.a,{variant:"h6"},"Personal Details"),r.a.createElement(ne.a,{className:a.divider})),r.a.createElement(re.a,{required:!0,id:"name",label:"Full Name",variant:"outlined",value:o.name.value,onChange:u,InputLabelProps:{shrink:!0}}),r.a.createElement(re.a,{required:!0,id:"empId",label:"Employee Id",onChange:u,value:o.empId.value,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{required:!0,id:"manager",value:o.manager.value,label:"Project Manager",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{required:!0,id:"designation",select:!0,value:o.designation.value,label:"Designation",onChange:function(e){var a=e.target.value;c((function(e,t){var n=e.designation;return Object(s.a)({},e,{designation:Object(s.a)({},n,{value:a})})}))},InputLabelProps:{shrink:!0},variant:"outlined"},La.map((function(e){return r.a.createElement(te.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(re.a,{required:!0,id:"contact",value:o.contact.value,label:"Contact",type:"number",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{id:"mail",label:"Email Id",type:"Email",value:o.mail.value,onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(S.a,{flexGrow:1,mb:2,px:5,style:{width:"100%"}},r.a.createElement(U.a,{variant:"h6"},"Project Details"),r.a.createElement(ne.a,{className:a.divider})),r.a.createElement(re.a,{id:"project_name",label:"Name",value:o.project_name.value,onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{id:"project_manager",label:"Manager Name",value:o.project_manager.value,InputLabelProps:{shrink:!0},onChange:u,variant:"outlined"}),r.a.createElement(re.a,{id:"project_mail",label:"Contact",value:o.project_mail.value,type:"number",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(re.a,{id:"project_contact",label:"Email Id",value:o.project_contact.value,type:"Email",onChange:u,InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(S.a,null,r.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit",onClick:function(a){var t={};e.kpaCreation.forEach((function(e){var a=e.target.find((function(e){return e.role===o.designation.value})).target;t[e.name]=a})),a.preventDefault();var n={empId:o.empId.value,name:o.name.value,contact:o.contact.value,mail:o.mail.value,manager:o.manager.value,designation:o.designation.value,project_details:{name:o.project_name.value,project_manager:o.project_manager.value,mail:o.project_mail.value,contact:o.project_contact.value},target_kpa:t};""===o.project_name.value&&(n=Object(s.a)({},n,{project_details:{}})),Q.a.post("https://kpa-backend.herokuapp.com/user",n).then((function(a){e.profileSubmit(n)})).catch((function(e){return console.log(e)}))}},"Submit"),r.a.createElement(N.a,{variant:"contained",color:"secondary",onClick:e.handleClose},"Cancel")))},Da=Object(u.a)((function(e){return{paper:{padding:e.spacing(1,3),background:"transparent",borderRadius:"0",boxShadow:"none"},topbox:{marginLeft:"15px",marginTop:"0",padding:"20px",background:wa.a.A400,borderRadius:"3px"},whitecolor:{color:"#4b4b4b",width:"30px",height:"30px",margin:"4px 4px -10px",textAlign:"center",lineHeight:"33px"},wholeContainer:{background:"#fff",borderRadius:"3px"},containertitle:{color:"#3C4858",fontWeight:"400"},avatar:{backgroundColor:wa.a.A400},tabletext:{fontSize:"0.875rem !important"},downloadIcon:{color:Ca.a[500]},transColor:{background:"#fff"},errColor:{backgroundColor:"#f2dede"},addEmpBtn:{marginTop:"5px",marginRight:"5px"},smallIcon:{width:e.spacing(3),height:e.spacing(3)}}})),Ba=function(e){var a=Da(),t=Object(n.useState)(!1),l=Object(i.a)(t,2),o=l[0],c=l[1],s=Object(n.useState)({}),u=Object(i.a)(s,2),m=u[0],d=u[1],p=function(e,a,t){return{name:e,data1:a,data2:t}},g=function(){c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{p:1,className:a.wholeContainer},r.a.createElement(S.a,{display:"flex",p:1,justifyContent:"space-between"},r.a.createElement("div",null,r.a.createElement(Na.a,{className:a.whitecolor}),r.a.createElement(U.a,{className:a.containertitle,display:"inline"},"Employee Details")),r.a.createElement("div",null,r.a.createElement(N.a,{variant:"outlined",color:"#ffffff",className:a.addEmpBtn,onClick:function(){d({}),c(!0)},startIcon:r.a.createElement(Ea.a,{alt:"Add",className:a.smallIcon,src:"/AddEmployee.svg"})},"Add Employee"))),r.a.createElement(ne.a,null),r.a.createElement(ea.a,{className:a.paper},r.a.createElement(ya.a,null,r.a.createElement(ja.a,{className:a.table,"aria-label":"Employee Details"},r.a.createElement(ka.a,null,r.a.createElement(ha.a,null,r.a.createElement(va.a,null,"Employee"),r.a.createElement(va.a,null,"Project"),r.a.createElement(va.a,null,"Resume"))),r.a.createElement(Oa.a,null,e.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(ea.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(xa.a,null),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"40%"}))),r.a.createElement(ea.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(xa.a,null),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"40%"})))):e.data.map((function(e){var t=e.project_details;return r.a.createElement(ha.a,{key:e.empId,className:Object(h.isEmpty)(t)?a.errColor:a.transColor},r.a.createElement(va.a,{component:"th",scope:"row"},r.a.createElement(S.a,{display:"flex",alignItems:"center",flexDirection:"row"},r.a.createElement(S.a,null,r.a.createElement(Ea.a,{className:a.avatar},function(e){var a=e.split(" ");return a[0].split("")[0]+a[a.length-1].split("")[0]}(e.name))),r.a.createElement(S.a,{ml:2},r.a.createElement(ba,Object.assign({},p(e.name,e.empId,e.designation),{link:!0}))))),r.a.createElement(va.a,null,!Object(h.isEmpty)(t)&&r.a.createElement(ba,Object.assign({},p(t.name,t.project_manager,t.contact),{link:!1})),Object(h.isEmpty)(t)&&r.a.createElement("h4",null,"Currently in Bench")),r.a.createElement(va.a,null,r.a.createElement(Ta.a,{fontSize:"large",className:a.downloadIcon})))}))))))),r.a.createElement(ae,{open:o,handleClose:g},r.a.createElement(Pa,{profile:m,profileSubmit:function(a){c(!1),e.profileSubmit()},kpaCreation:e.kpaCreation,handleClose:g})))},Aa=t(254),Ra=t.n(Aa),Ma=Object(u.a)((function(e){return{paper:{padding:e.spacing(2),background:"transparent",borderRadius:"0",boxShadow:"none"},topbox:{marginLeft:"15px",marginTop:"0",padding:"20px",background:wa.a.A400,borderRadius:"3px"},whitecolor:{color:"#4b4b4b",width:"30px",height:"30px",margin:"4px 4px -10px",textAlign:"center",lineHeight:"33px"},wholeContainer:{background:"#fff",borderRadius:"3px"},containertitle:{color:"#3C4858",fontWeight:"400",marginLeft:"10px"},avatar:{backgroundColor:Ca.a[500]},sidecard:{borderRadius:"5px",marginBottom:"5px"},cardContent:{paddingTop:"0 !important",paddingBottom:"15px !important"},noRecentNotification:{background:"linear-gradient(60deg, #e11313f5, #f807072e)",marginTop:5,padding:e.spacing(2),margin:"auto",marginBottom:e.spacing(1)}}})),qa=function(e){var a=Ma();return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{container:!0,item:!0,xs:12},r.a.createElement(S.a,{className:a.wholeContainer,style:{width:"100%"}},r.a.createElement(S.a,{p:2},r.a.createElement(Ra.a,{className:a.whitecolor}),r.a.createElement(U.a,{className:a.containertitle,display:"inline"},"Notifications")),r.a.createElement(ne.a,null),r.a.createElement(ea.a,{className:a.paper},function(){var t,n=function(e){var a=T(e),t=new Date;return t.setDate(t.getDate()-30),(a=Object(h.orderBy)(a,["modified_on"],["desc"])).filter((function(e){return new Date(e.modified_on)>=t})).slice(0,4)}(e.data),l=n.length;return e.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(ea.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(xa.a,null),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"40%"}))),r.a.createElement(ea.a,{className:a.paper},r.a.createElement(S.a,{pt:.5},r.a.createElement(xa.a,null),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"60%"}),r.a.createElement(xa.a,{width:"40%"})))):l>0?r.a.createElement(r.a.Fragment,null,function(e){return e.map((function(e,t){return r.a.createElement(z.a,{item:!0,xs:12,sm:6,lg:12,key:t},r.a.createElement(W.a,{className:a.sidecard,style:{borderLeft:"4px solid ".concat(e.color.main)},width:"100%"},r.a.createElement(H.a,{pb:2,avatar:r.a.createElement(Ea.a,{alt:e.name,src:"/images/"+e.name+".jpg",className:a.avatar}),title:e.name,subheader:new Date(e.modified_on).toLocaleDateString()}),r.a.createElement(G.a,{className:a.cardContent},r.a.createElement(U.a,{variant:"overline",display:"block"},Object(h.upperCase)(Object(h.camelCase)(e.type))),r.a.createElement(U.a,{className:a.sidebarTitle,gutterBottom:!0},e.title),r.a.createElement(U.a,{variant:"body2",color:"textSecondary"},e.description))))}))}(n)," "):r.a.createElement(r.a.Fragment,null,(t="No Recent Activities!",r.a.createElement(ea.a,{className:a.noRecentNotification,elevation:3},r.a.createElement(z.a,{container:!0,spacing:2},r.a.createElement(ba,{content:t})))))}()))))},Fa=Object(u.a)((function(e){return{root:{flexGrow:1,padding:e.spacing(2)},chart:{padding:e.spacing(2),color:e.palette.text.secondary,height:200},profileList:{padding:e.spacing(2),color:e.palette.text.secondary}}}));function Ka(){var e=Fa(),a=Object(n.useState)({profile:[],kpaCreation:[]}),t=Object(i.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),m=u[0],d=u[1],p=Object(n.useState)({showBy:"",choice:[]}),g=Object(i.a)(p,2),f=g[0],b=g[1],h=Object(n.useState)({showBy:"",choice:[]}),v=Object(i.a)(h,2),E=v[0],y=v[1],j=Object(n.useState)({showBy:"",choice:[]}),k=Object(i.a)(j,2),O=k[0],C=k[1];function S(){return N.apply(this,arguments)}function N(){return(N=Object(w.a)(x.a.mark((function e(){var a,t,n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,qe();case 4:a=e.sent,t=Object(i.a)(a,2),n=t[0],r=t[1],o({profile:n.data,kpaCreation:r.data}),n.data.forEach((function(e){b({choice:Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}})),showBy:"component"}),y({choice:Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}})),showBy:"component"}),C({choice:[].concat(Object(Ge.a)(Object.keys(e.target_kpa).map((function(e){return{id:e,value:e}}))),[{id:"",value:"Overall"}]),showBy:""})})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0.response&&console.log(e.t0.toJSON());case 15:d(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){S()}),[]);var I=function(e){return e.length>0&&e.some((function(e){return e.kpa.length>0}))};return console.log(l.profile,"DdDD",I(l.profile)),r.a.createElement(Ue.a,{className:e.root},r.a.createElement(z.a,{container:!0,spacing:3},I(l.profile)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(la,Object.assign({id:"bar",label:"Break Down"},f,{color:P(l.profile,f.showBy,l.kpaCreation)[1],handleChange:function(e){b((function(a,t){return Object(s.a)({},a,{showBy:e.target.value})}))}}),r.a.createElement(ca,{data:P(l.profile,f.showBy,l.kpaCreation)}))),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(la,Object.assign({id:"line",label:"Latter Lines"},E,{color:_(l.profile,E.showBy,l.kpaCreation)[0],handleChange:function(e){y((function(a,t){return Object(s.a)({},a,{showBy:e.target.value})}))}}),r.a.createElement(ia,{data:_(l.profile,E.showBy,l.kpaCreation)}))),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(la,Object.assign({id:"pie",label:"Overall Progress"},O,{handleChange:function(e){C((function(a,t){return Object(s.a)({},a,{showBy:e.target.value})}))}}),r.a.createElement(ga,{data:L(l.profile,O.showBy,l.kpaCreation)}))))," ",r.a.createElement(z.a,{item:!0,xs:8},r.a.createElement(Ba,{data:l.profile,loading:m,kpaCreation:l.kpaCreation,profileSubmit:function(){S()}})),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(qa,{data:l.profile,loading:m}))))}var za=function(){return r.a.createElement(z.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(z.a,{container:!0,item:!0,xs:6,spacing:3,justify:"center"},r.a.createElement(se,null)))},Wa=Object(u.a)((function(e){return{root:{display:"flex",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)","& .MuiTextField-root":{margin:e.spacing(2,1),width:"35ch"}},form:{border:"2px solid white",borderRadius:"15px",backgroundColor:"white",width:"500px",height:"320px",textAlign:"center"},button:{display:"block",margin:"auto"},error:{color:"red",fontSize:"12px",margin:e.spacing(0,0,1)},content:{marginTop:e.spacing(1.5),padding:e.spacing(0,1,2)},title:{background:"black",borderRadius:"15px 15px 0 0",padding:" 10px",color:"white",alignItems:"center",display:"flex",justifyContent:"center"},img:{height:"30px",textAlign:"center"}}})),Ha=function(e){var a=Object(n.useState)({username:"",password:"",error:""}),t=Object(i.a)(a,2),l=t[0],o=t[1],c=Object(n.useState)(!1),u=Object(i.a)(c,2),m=u[0],d=u[1],p=Wa(),g=Object(v.g)(),f=(Object(v.h)().state||{from:{pathname:"/"}}).from,b=function(e){e.persist(),o((function(a){return Object(s.a)({},a,Object(C.a)({},e.target.name,e.target.value))}))},h=function(e){o((function(a){return Object(s.a)({},a,{error:e})}))};return r.a.createElement("div",{className:p.root},r.a.createElement("form",{className:p.form,autoComplete:"off"},r.a.createElement(S.a,{className:p.title},r.a.createElement("img",{className:p.img,src:"/KPA-Logo.svg",alt:"KPA Tracker"}),r.a.createElement(U.a,{variant:"h6",mr:2},"Login")),r.a.createElement("div",{className:p.content},r.a.createElement(re.a,{id:"username",name:"username",label:"Username",type:"text",autoFocus:!0,required:!0,InputLabelProps:{shrink:!0},error:"username"===l.error,onChange:b,value:l.user,placeholder:"admin",variant:"outlined"}),r.a.createElement(re.a,{id:"password",name:"password",label:"Password",type:"password",required:!0,InputLabelProps:{shrink:!0},value:l.password,error:"password"===l.error,placeholder:"******",variant:"outlined",onChange:b}),m&&r.a.createElement("div",{className:p.error},"Username or password invalid"),r.a.createElement(N.a,{variant:"outlined",onClick:function(){return l.username.length<1?(h("username"),!1):l.password.length<1?(h("password"),!1):void("admin"===l.password&&"admin"===l.username?E.authenticate((function(){localStorage.setItem("isAuthenticate",!0),g.replace(f)})):d(!0))},className:p.button},"Submit"))))};function Ja(e){var a=e.children,t=Object(k.a)(e,["children"]);return r.a.createElement(v.b,Object.assign({},t,{render:function(e){var t=e.location;return E.isAuthenticated?a:r.a.createElement(v.a,{to:{pathname:"/login",state:{from:t}}})}}))}var Ga=function(e){var a=Object(v.g)();return Object(n.useEffect)((function(){localStorage.getItem("isAuthenticate")&&E.authenticate((function(){a.push("/")}))}),[]),r.a.createElement("div",{style:Ua},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/login",component:Ha}),r.a.createElement(Ja,{path:"/kpa-profile"},r.a.createElement(Je,null)),r.a.createElement(Ja,{path:"/forms"},r.a.createElement(za,null)),r.a.createElement(Ja,{path:"/",exact:!0},r.a.createElement(Ka,null))))},Ua={marginTop:"20px"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement(c.a,null,r.a.createElement(j,null),r.a.createElement(Ga,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[299,1,2]]]);
//# sourceMappingURL=main.f1125d82.chunk.js.map